(this.webpackJsonptarea1=this.webpackJsonptarea1||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){e.exports=a.p+"static/media/rick.82926b7d.png"},function(e,t,a){e.exports=a.p+"static/media/morty.f5fa4799.png"},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(8),r=a.n(c),o=(a(15),a(5)),i=a(1),l=a(2),d=a(6),p=a(3),h=a(4),m=(a(16),a(9)),u=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"card text-white"},s.a.createElement("div",{className:"card-body"},s.a.createElement("span",{className:"badge badge-primary"},"Episode"),s.a.createElement("h6",{className:"card-subtitle mb-2"}," ",this.props.episode.episode," - ",this.props.episode.name.substring(0,15),this.props.episode.name.length>15?"...":""),s.a.createElement("p",{className:"card-text"},this.props.episode.air_date)))}}]),a}(n.Component),g=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"card text-white"},s.a.createElement("div",{className:"card-body"},s.a.createElement("span",{className:"badge badge-light"},"Character"),s.a.createElement("h6",{className:"card-subtitle mb-2"}," ",this.props.character.name),s.a.createElement("p",{className:"card-text"},this.props.character.status)))}}]),a}(n.Component),E=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"card text-white"},s.a.createElement("div",{className:"card-body"},s.a.createElement("span",{className:"badge badge-warning"},"Location"),s.a.createElement("h6",{className:"card-subtitle mb-2"}," ",this.props.location.name," - ",this.props.location.type)))}}]),a}(n.Component),f="https://rickandmortyapi.com/api/",v=function(e,t){var a;return a=e?f+"episode/?name=".concat(e,"&page=").concat(t):f+"episode/?page=".concat(t),fetch(a).then((function(e){if(200!==e.status)throw console.log(e.status),new Error("404");return e.json()}))},b=function(e,t){var a;return a=e?f+"character/?name=".concat(e,"&page=").concat(t):f+"character/?page=".concat(t),fetch(a).then((function(e){if(200!==e.status)throw console.log(e.status),new Error("404");return e.json()}))},N=function(e,t){var a;return a=e?f+"location/?name=".concat(e,"&page=").concat(t):f+"location/?page=".concat(t),fetch(a).then((function(e){if(200!==e.status)throw console.log(e.status),new Error("404");return e.json()}))},k=function(e){var t=f+"character/".concat(e.map((function(e){return e.split("/").pop()})).join(","));return console.log("GET "+t),fetch(t).then((function(e){return e.json()}))},y=function(e){var t=f+"episode/".concat(e.map((function(e){return e.split("/").pop()})).join(","));return console.log("GET "+t),fetch(t).then((function(e){return e.json()}))},j=function(e){var t=f+"location/".concat(e.map((function(e){return e.split("/").pop()})).join(","));return console.log("GET "+t),fetch(t).then((function(e){return e.json()}))},x=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={characters:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;k(this.props.data.characters).then((function(t){e.setState({characters:t})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&k(this.props.data.characters).then((function(e){a.setState({characters:e})}))}},{key:"render",value:function(){var e,t=this;return e=this.props.previous?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("button",{className:"btn",onClick:function(){t.props.goPrevious(t.props.currentPages)}},s.a.createElement("i",{class:"fa fa-arrow-left"}))),s.a.createElement("div",{className:"col-sm-9 col-sm-offset-1"},s.a.createElement("h3",null,this.props.data.name))):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("h3",null,this.props.data.name))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},e),s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title text-muted"},this.props.data.episode),s.a.createElement("p",{className:"card-text"},this.props.data.air_date),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Characters:")),s.a.createElement("ul",null,this.state.characters.map((function(e){return s.a.createElement("li",{className:"text-link",onClick:function(){t.props.addPage("character",e,t.props.currentPages)}},e.name)})))))}}]),a}(n.Component),P=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={episodes:[],origin:null,location:null},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;y(this.props.data.episode).then((function(t){Array.isArray(t)||(t=[t]),e.setState({episodes:t})})),j([this.props.data.origin.url]).then((function(t){e.setState({origin:t})})),j([this.props.data.location.url]).then((function(t){e.setState({location:t})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&(y(this.props.data.episode).then((function(e){Array.isArray(e)||(e=[e]),a.setState({episodes:e})})),j([this.props.data.origin.url]).then((function(e){a.setState({origin:e})})),j([this.props.data.location.url]).then((function(e){a.setState({location:e})})))}},{key:"render",value:function(){var e,t=this;return e=this.props.previous?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("button",{className:"btn",onClick:function(){t.props.goPrevious(t.props.currentPages)}},s.a.createElement("i",{class:"fa fa-arrow-left"}))),s.a.createElement("div",{className:"col-sm-9 col-sm-offset-1"},s.a.createElement("h3",null,this.props.data.name))):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("h3",null,this.props.data.name))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},e),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Status:")," ",this.props.data.status),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Species:")," ",this.props.data.species),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Type:")," ",this.props.data.type),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Gender:")," ",this.props.data.gender),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Origin: "),this.props.data.origin.url?s.a.createElement("bold",{className:"text-link",onClick:function(){t.props.addPage("location",t.state.origin,t.props.currentPages)}},this.props.data.origin.name):s.a.createElement("bold",{className:""},this.props.data.origin.name)),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Location: "),this.props.data.location.url?s.a.createElement("bold",{className:"text-link",onClick:function(){t.props.addPage("location",t.state.location,t.props.currentPages)}},this.props.data.location.name):s.a.createElement("bold",{className:""},this.props.data.origin.name))),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("img",{src:this.props.data.image,alt:this.props.data.name}))),s.a.createElement("br",null),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Episodes:")),s.a.createElement("ul",null,this.state.episodes.map((function(e){return s.a.createElement("li",{className:"text-link",onClick:function(){t.props.addPage("episode",e,t.props.currentPages)}},e.episode," - ",e.name)})))))}}]),a}(n.Component),O=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={residents:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;k(this.props.data.residents).then((function(t){Array.isArray(t)||(t=[t]),e.setState({residents:t})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&k(this.props.data.residents).then((function(e){Array.isArray(e)||(e=[e]),a.setState({residents:e})}))}},{key:"render",value:function(){var e,t=this;return e=this.props.previous?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("button",{className:"btn",onClick:function(){t.props.goPrevious(t.props.currentPages)}},s.a.createElement("i",{class:"fa fa-arrow-left"}))),s.a.createElement("div",{className:"col-sm-9 col-sm-offset-1"},s.a.createElement("h3",null,this.props.data.name))):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("h3",null,this.props.data.name))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},e),s.a.createElement("div",{className:"card-body"},s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Type:")," ",this.props.data.type),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Dimension:")," ",this.props.data.dimension),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Residents:")),s.a.createElement("ul",null,this.state.residents.map((function(e){return s.a.createElement("li",{className:"text-link",onClick:function(){t.props.addPage("character",e,t.props.currentPages)}},e.name)})))))}}]),a}(n.Component),C=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={searchValue:"",pagination:1,maxPageLocations:1,maxPageCharacters:1,maxPageEpisodes:1,loadingCharacters:!1,loadingLocations:!1,loadingEpisodes:!1,data_locations:[],data_characters:[],data_episodes:[],pages:[],checkedFilters:new Map([["check-1-episode",!0],["check-2-character",!1],["check-3-location",!1]])},a.handleOnChange=function(e){a.setState({pagination:1,data:[]}),a.setState({searchValue:e.target.value},(function(){a.searchAll()}))},a.handleFilterChange=function(e){var t=e.target.name,n=e.target.checked;console.log(t),console.log(n),a.setState({checkedFilters:a.state.checkedFilters.set(t,n)})},a.addPage=function(e,t,n){a.setState({pages:[].concat(Object(o.a)(n),[{type:e,data:t}])})},a.popPage=function(e){var t=e;t.pop(),a.setState({pages:t})},a.handleOnChange=a.handleOnChange.bind(Object(d.a)(a)),a.handleFilterChange=a.handleFilterChange.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.searchAll(),window.addEventListener("scroll",Object(m.debounce)((function(){console.log("scrolling stopped"),e.setState({pagination:e.state.pagination+1}),console.log(e.state),e.updateAll()}),1e3))}},{key:"searchAll",value:function(){var e=this;v(this.state.searchValue,1).then((function(t){console.log(t),e.setState({maxPageEpisodes:t.info.pages,data_episodes:t.results.map((function(e){return{type:"episode",data:e}}))})})).catch((function(t){e.setState({data_episodes:[]})})),b(this.state.searchValue,1).then((function(t){console.log(t),e.setState({maxPageCharacters:t.info.pages,data_characters:t.results.map((function(e){return{type:"character",data:e}}))})})).catch((function(t){e.setState({data_characters:[]})})),N(this.state.searchValue,1).then((function(t){console.log(t),e.setState({maxPageLocations:t.info.pages,data_locations:t.results.map((function(e){return{type:"location",data:e}}))})})).catch((function(t){e.setState({data_locations:[]})}))}},{key:"updateAll",value:function(){var e=this;this.state.maxPageEpisodes+1>this.state.pagination&&(this.setState({loadingEpisodes:!0}),v(this.state.searchValue,this.state.pagination).then((function(t){e.setState({data_episodes:[].concat(Object(o.a)(e.state.data_episodes),Object(o.a)(t.results.map((function(e){return{type:"episode",data:e}}))))})})).catch((function(t){e.setState({loadingEpisodes:!1,data_episodes:e.state.data_episodes})}))),this.state.maxPageCharacters+1>this.state.pagination&&(this.setState({loadingCharacters:!0}),b(this.state.searchValue,this.state.pagination).then((function(t){e.setState({data_characters:[].concat(Object(o.a)(e.state.data_characters),Object(o.a)(t.results.map((function(e){return{type:"character",data:e}}))))})})).catch((function(t){e.setState({loadingCharacters:!1,data_characters:e.state.data_characters})}))),this.state.maxPageLocations+1>this.state.pagination&&(this.setState({loadingLocations:!0}),N(this.state.searchValue,this.state.pagination).then((function(t){e.setState({data_locations:[].concat(Object(o.a)(e.state.data_locations),Object(o.a)(t.results.map((function(e){return{type:"location",data:e}}))))})})).catch((function(t){e.setState({loadingLocations:!1,data_locations:e.state.data_locations})})))}},{key:"renderDetailPages",value:function(){if(this.state.pages.length>0){var e=this.state.pages[this.state.pages.length-1];if("episode"===e.type)return s.a.createElement(x,{data:e.data,addPage:this.addPage,currentPages:this.state.pages,previous:this.state.pages.length>1,goPrevious:this.popPage});if("character"===e.type)return s.a.createElement(P,{data:e.data,addPage:this.addPage,currentPages:this.state.pages,previous:this.state.pages.length>1,goPrevious:this.popPage});if("location"===e.type)return s.a.createElement(O,{data:e.data,addPage:this.addPage,currentPages:this.state.pages,previous:this.state.pages.length>1,goPrevious:this.popPage})}}},{key:"renderSearchResults",value:function(){var e=this;return this.state.data_episodes||this.state.data_locations||this.state.data_characters?s.a.createElement("div",{className:"row"},this.state.checkedFilters.get("check-1-episode")?this.state.data_episodes.map((function(t){return s.a.createElement("div",{className:"col-sm-12 div-link search-result",onClick:function(){return e.setState({pages:[t]})}},s.a.createElement(u,{episode:t.data}))})):null,this.state.checkedFilters.get("check-2-character")?this.state.data_characters.map((function(t){return s.a.createElement("div",{className:"col-sm-12 div-link search-result",onClick:function(){return e.setState({pages:[t]})}},s.a.createElement(g,{character:t.data}))})):null,this.state.checkedFilters.get("check-3-location")?this.state.data_locations.map((function(t){return s.a.createElement("div",{className:"col-sm-12 div-link search-result",onClick:function(){return e.setState({pages:[t]})}},s.a.createElement(E,{location:t.data}))})):null):s.a.createElement("div",null,s.a.createElement("p",null,"No results"))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"body-content"},s.a.createElement("img",{id:"rick-image",src:a(19),alt:""}),s.a.createElement("img",{id:"morty-image",src:a(20),alt:""}),s.a.createElement("div",{className:"container header-title"},s.a.createElement("h1",{className:"text-center"},"Rick and Morty Search Engine")),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6",id:"search-data"},s.a.createElement("div",{id:"search-bar",className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("input",{className:"form-control",name:"text",type:"text",placeholder:"Search",onChange:function(t){return e.handleOnChange(t)},value:this.state.searchValue})),s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("label",{key:"checkbox1"},"Episode",s.a.createElement("input",{type:"checkbox",name:"check-1-episode",checked:this.state.checkedFilters.get("check-1-episode"),onChange:this.handleFilterChange})),s.a.createElement("label",{key:"checkbox2"},"Character",s.a.createElement("input",{type:"checkbox",name:"check-2-character",checked:this.state.checkedFilters.get("check-1-character"),onChange:this.handleFilterChange})),s.a.createElement("label",{key:"checkbox3"},"Location",s.a.createElement("input",{type:"checkbox",name:"check-3-location",checked:this.state.checkedFilters.get("check-1-location"),onChange:this.handleFilterChange})))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{id:"search-results"},this.renderSearchResults())),s.a.createElement("div",{className:"container pages"},s.a.createElement("div",{className:"row justify-content-end"},s.a.createElement("div",{className:"col-sm-6"},this.renderDetailPages()))))),s.a.createElement("div",{className:"end-box"}))}}]),n}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.5cedf542.chunk.js.map