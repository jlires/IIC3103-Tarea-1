(this.webpackJsonptarea1=this.webpackJsonptarea1||[]).push([[0],{10:function(e,t,a){e.exports=a(20)},15:function(e,t,a){},16:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},17:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(8),r=a.n(c),o=(a(15),a(5)),i=a(1),l=a(2),d=a(6),u=a(3),p=a(4),m=(a(16),a(17),a(9)),h=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"card text-white bg-info mb-3"},s.a.createElement("h5",{className:"card-header"},this.props.episode.name),s.a.createElement("div",{className:"card-body"},s.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},this.props.episode.episode),s.a.createElement("p",{className:"card-text"},this.props.episode.air_date)))}}]),a}(n.Component),f=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"card text-white bg-secondary mb-3"},s.a.createElement("h5",{className:"card-header"},this.props.character.name),s.a.createElement("div",{className:"card-body"},s.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},this.props.character.statuus),s.a.createElement("p",{className:"card-text"},"Location: ",this.props.character.location.name)))}}]),a}(n.Component),g=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"card text-white bg-warning mb-3"},s.a.createElement("h5",{className:"card-header"},this.props.location.name),s.a.createElement("div",{className:"card-body"},s.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},this.props.location.type),s.a.createElement("p",{className:"card-text"},this.props.location.dimension)))}}]),a}(n.Component),v="https://rickandmortyapi.com/api/",E=function(e,t){var a;return a=e?v+"episode/?name=".concat(e,"&page=").concat(t):v+"episode/",fetch(a).then((function(e){if(200!==e.status)throw new Error("404");return e.json()}))},N=function(e,t){var a;return a=e?v+"character/?name=".concat(e,"&page=").concat(t):v+"character/",fetch(a).then((function(e){if(200!==e.status)throw new Error("404");return e.json()}))},b=function(e,t){var a;return a=e?v+"location/?name=".concat(e,"&page=").concat(t):v+"location/",fetch(a).then((function(e){if(200!==e.status)throw new Error("404");return e.json()}))},y=function(e){var t=v+"character/".concat(e.map((function(e){return e.split("/").pop()})).join(","));return console.log("GET "+t),fetch(t).then((function(e){return e.json()}))},j=function(e){var t=v+"episode/".concat(e.map((function(e){return e.split("/").pop()})).join(","));return console.log("GET "+t),fetch(t).then((function(e){return e.json()}))},k=function(e){var t=v+"location/".concat(e.map((function(e){return e.split("/").pop()})).join(","));return console.log("GET "+t),fetch(t).then((function(e){return e.json()}))},O=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={characters:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;y(this.props.data.characters).then((function(t){e.setState({characters:t})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&y(this.props.data.characters).then((function(e){a.setState({characters:e})}))}},{key:"render",value:function(){var e,t=this;return e=this.props.previous?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("button",{className:"btn",onClick:function(){t.props.goPrevious(t.props.currentPages)}},"Back")),s.a.createElement("div",{className:"col-sm-9 col-sm-offset-1"},s.a.createElement("h3",null,this.props.data.name))):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("h3",null,this.props.data.name))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},e),s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title text-muted"},this.props.data.episode),s.a.createElement("p",{className:"card-text"},this.props.data.air_date),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Characters:")),s.a.createElement("ul",null,this.state.characters.map((function(e){return s.a.createElement("li",{className:"text-link",onClick:function(){t.props.addPage("character",e,t.props.currentPages)}},e.name)})))))}}]),a}(n.Component),S=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={episodes:[],origin:null,location:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;j(this.props.data.episode).then((function(t){Array.isArray(t)||(t=[t]),e.setState({episodes:t})})),k([this.props.data.origin.url]).then((function(t){e.setState({origin:t})})),k([this.props.data.location.url]).then((function(t){e.setState({location:t})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&(j(this.props.data.episode).then((function(e){Array.isArray(e)||(e=[e]),a.setState({episodes:e})})),k([this.props.data.origin.url]).then((function(e){a.setState({origin:e})})),k([this.props.data.location.url]).then((function(e){a.setState({location:e})})))}},{key:"render",value:function(){var e,t=this;return e=this.props.previous?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("button",{className:"btn",onClick:function(){t.props.goPrevious(t.props.currentPages)}},"Back")),s.a.createElement("div",{className:"col-sm-9 col-sm-offset-1"},s.a.createElement("h3",null,this.props.data.name))):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("h3",null,this.props.data.name))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},e),s.a.createElement("div",{className:"card-body"},s.a.createElement("img",{src:this.props.data.image,alt:this.props.data.name}),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Status:")," ",this.props.data.status),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Species:")," ",this.props.data.species),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Type:")," ",this.props.data.type),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Gender:")," ",this.props.data.gender),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Origin: "),s.a.createElement("bold",{className:"text-link",onClick:function(){t.props.addPage("location",t.state.origin,t.props.currentPages)}},this.props.data.origin.name)),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Location: "),s.a.createElement("bold",{className:"text-link",onClick:function(){t.props.addPage("location",t.state.location,t.props.currentPages)}},this.props.data.location.name)),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Episodes:")),s.a.createElement("ul",null,this.state.episodes.map((function(e){return s.a.createElement("li",{className:"text-link",onClick:function(){t.props.addPage("episode",e,t.props.currentPages)}},e.name)})))))}}]),a}(n.Component),P=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={residents:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;y(this.props.data.residents).then((function(t){e.setState({residents:t})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;e!==this.props&&y(this.props.data.residents).then((function(e){a.setState({residents:e})}))}},{key:"render",value:function(){var e,t=this;return e=this.props.previous?s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-1"},s.a.createElement("button",{className:"btn",onClick:function(){t.props.goPrevious(t.props.currentPages)}},"Back")),s.a.createElement("div",{className:"col-sm-9 col-sm-offset-1"},s.a.createElement("h3",null,this.props.data.name))):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("h3",null,this.props.data.name))),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},e),s.a.createElement("div",{className:"card-body"},s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Type:")," ",this.props.data.type),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Dimension:")," ",this.props.data.dimension),s.a.createElement("p",{className:"card-text"},s.a.createElement("strong",null,"Residents:")),s.a.createElement("ul",null,this.state.residents.map((function(e){return s.a.createElement("li",{className:"text-link",onClick:function(){t.props.addPage("character",e,t.props.currentPages)}},e.name)})))))}}]),a}(n.Component),x=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={searchValue:"",pagination:1,maxPage:1,loading:!1,data_locations:[],data_characters:[],data_episodes:[],pages:[]},n.handleOnChange=function(e){n.setState({pagination:1,data:[]}),n.setState({searchValue:e.target.value},(function(){n.searchAll()}))},n.addPage=function(e,t,a){n.setState({pages:[].concat(Object(o.a)(a),[{type:e,data:t}])})},n.popPage=function(e){var t=e;t.pop(),n.setState({pages:t})},n.handleOnChange=n.handleOnChange.bind(Object(d.a)(n)),n}return Object(l.a)(a,[{key:"searchAll",value:function(){var e=this;E(this.state.searchValue,this.state.pagination).then((function(t){e.setState({data_episodes:t.results.map((function(e){return{type:"episode",data:e}}))}),console.log(e.state)})).catch((function(t){e.setState({data_episodes:[]})})),N(this.state.searchValue,this.state.pagination).then((function(t){e.setState({data_characters:t.results.map((function(e){return{type:"character",data:e}}))}),console.log(e.state)})).catch((function(t){e.setState({data_characters:[]})})),b(this.state.searchValue,this.state.pagination).then((function(t){e.setState({data_locations:t.results.map((function(e){return{type:"location",data:e}}))}),console.log(e.state)})).catch((function(t){e.setState({data_locations:[]})}))}},{key:"updateAll",value:function(){var e=this;E(this.state.searchValue,this.state.pagination).then((function(t){e.setState({data_episodes:[].concat(Object(o.a)(e.state.data_episodes),Object(o.a)(t.results.map((function(e){return{type:"episode",data:e}}))))}),console.log(e.state)})).catch((function(t){e.setState({data_episodes:e.state.data_episodes})})),N(this.state.searchValue,this.state.pagination).then((function(t){e.setState({data_characters:[].concat(Object(o.a)(e.state.data_characters),Object(o.a)(t.results.map((function(e){return{type:"character",data:e}}))))}),console.log(e.state)})).catch((function(t){e.setState({data_characters:e.state.data_characters})})),b(this.state.searchValue,this.state.pagination).then((function(t){e.setState({data_locations:[].concat(Object(o.a)(e.state.data_locations),Object(o.a)(t.results.map((function(e){return{type:"location",data:e}}))))}),console.log(e.state)})).catch((function(t){e.setState({data_locations:e.state.data_locations})}))}},{key:"renderDetailPages",value:function(){if(this.state.pages.length>0){var e=this.state.pages[this.state.pages.length-1];if("episode"===e.type)return s.a.createElement(O,{data:e.data,addPage:this.addPage,currentPages:this.state.pages,previous:this.state.pages.length>1,goPrevious:this.popPage});if("character"===e.type)return s.a.createElement(S,{data:e.data,addPage:this.addPage,currentPages:this.state.pages,previous:this.state.pages.length>1,goPrevious:this.popPage});if("location"===e.type)return s.a.createElement(P,{data:e.data,addPage:this.addPage,currentPages:this.state.pages,previous:this.state.pages.length>1,goPrevious:this.popPage})}}},{key:"renderSearchResults",value:function(){var e=this;return this.state.data_episodes||this.state.data_locations||this.state.data_characters?s.a.createElement("div",{className:"row"},this.state.data_episodes.map((function(t){return s.a.createElement("div",{className:"col-sm-4 div-link search-result",onClick:function(){return e.setState({pages:[t]})}},s.a.createElement(h,{episode:t.data}))})),this.state.data_characters.map((function(t){return s.a.createElement("div",{className:"col-sm-4 div-link search-result",onClick:function(){return e.setState({pages:[t]})}},s.a.createElement(f,{character:t.data}))})),this.state.data_locations.map((function(t){return s.a.createElement("div",{className:"col-sm-4 div-link search-result",onClick:function(){return e.setState({pages:[t]})}},s.a.createElement(g,{location:t.data}))}))):s.a.createElement("div",null,s.a.createElement("p",null,"No results"))}},{key:"componentDidMount",value:function(){var e=this;E(this.state.searchValue,this.state.pagination).then((function(t){e.setState({pagination:1,data_episodes:t.results.map((function(e){return{type:"episode",data:e}}))}),console.log(e.state)})),window.addEventListener("scroll",Object(m.debounce)((function(){console.log("scrolling stopped"),e.setState({pagination:e.state.pagination+1}),e.updateAll()}),1e3))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("h1",null,"Rick and Morty Search Engine")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6",id:"search-data"},s.a.createElement("div",{id:"search-bar",className:"row"},s.a.createElement("div",{className:"col-sm-8 col-sm-offset-2"},s.a.createElement("input",{className:"form-control",name:"text",type:"text",placeholder:"Search",onChange:function(t){return e.handleOnChange(t)},value:this.state.searchValue}))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{id:"search-results"},this.renderSearchResults())),s.a.createElement("div",{className:"container-fluid pages"},s.a.createElement("div",{className:"row justify-content-end"},s.a.createElement("div",{className:"col-sm-6"},this.renderDetailPages())))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.b75590e2.chunk.js.map